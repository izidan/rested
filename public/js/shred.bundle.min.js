var require=function(e,t){var r=require.resolve(e,t||"/"),n=require.modules[r];if(!n)throw new Error("Failed to resolve module "+e+", tried "+r);return n._cached?n._cached:n()};require.paths=[],require.modules={},require.extensions=[".js",".coffee"],require._core={assert:!0,events:!0,fs:!0,path:!0,vm:!0},require.resolve=function(e,t){if(t||(t="/"),require._core[e])return e;var r=require.modules.path(),n=t||".";if(e.match(/^(?:\.\.?\/|\/)/)){var o=s(r.resolve(n,e))||a(r.resolve(n,e));if(o)return o}var i=function(e,t){for(var n=function(e){var t;t="/"===e?[""]:r.normalize(e).split("/");for(var n=[],o=t.length-1;o>=0;o--)if("node_modules"!==t[o]){var i=t.slice(0,o+1).join("/")+"/node_modules";n.push(i)}return n}(t),o=0;o<n.length;o++){var i=n[o];if(c=s(i+"/"+e))return c;var u=a(i+"/"+e);if(u)return u}var c;if(c=s(e))return c}(e,n);if(i)return i;throw new Error("Cannot find module '"+e+"'");function s(e){if(require.modules[e])return e;for(var t=0;t<require.extensions.length;t++){var r=require.extensions[t];if(require.modules[e+r])return e+r}}function a(e){var t=(e=e.replace(/\/+$/,""))+"/package.json";if(require.modules[t]){var n=require.modules[t](),o=n.browserify;if("object"==typeof o&&o.main){if(i=s(r.resolve(e,o.main)))return i}else if("string"==typeof o){if(i=s(r.resolve(e,o)))return i}else if(n.main){var i;if(i=s(r.resolve(e,n.main)))return i}}return s(e+"/index")}},require.alias=function(e,t){var r=require.modules.path(),n=null;try{n=require.resolve(e+"/package.json","/")}catch(t){n=require.resolve(e,"/")}for(var o=r.dirname(n),i=(Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t})(require.modules),s=0;s<i.length;s++){var a=i[s];if(a.slice(0,o.length+1)===o+"/"){var u=a.slice(o.length);require.modules[t+u]=require.modules[o+u]}else a===o&&(require.modules[t]=require.modules[o])}},require.define=function(e,t){var r=require._core[e]?"":require.modules.path().dirname(e),n=function(e){return require(e,r)};n.resolve=function(e){return require.resolve(e,r)},n.modules=require.modules,n.define=require.define;var o={exports:{}};require.modules[e]=function(){return require.modules[e]._cached=o.exports,t.call(o.exports,n,o,o.exports,r,e),require.modules[e]._cached=o.exports,o.exports}},"undefined"==typeof process&&(process={}),process.nextTick||(process.nextTick=function(){var e=[],t="undefined"!=typeof window&&window.postMessage&&window.addEventListener;return t&&window.addEventListener("message",function(t){t.source===window&&"browserify-tick"===t.data&&(t.stopPropagation(),e.length>0&&e.shift()())},!0),function(r){t?(e.push(r),window.postMessage("browserify-tick","*")):setTimeout(r,0)}}()),process.title||(process.title="browser"),process.binding||(process.binding=function(e){if("evals"===e)return require("vm");throw new Error("No such module")}),process.cwd||(process.cwd=function(){return"."}),require.define("path",function(e,t,r,n,o){function i(e,t){for(var r=[],n=0;n<e.length;n++)t(e[n],n,e)&&r.push(e[n]);return r}function s(e,t){for(var r=0,n=e.length;n>=0;n--){var o=e[n];"."==o?e.splice(n,1):".."===o?(e.splice(n,1),r++):r&&(e.splice(n,1),r--)}if(t)for(;r--;r)e.unshift("..");return e}var a=/^(.+\/(?!$)|\/)?((?:.+?)?(\.[^.]*)?)$/;r.resolve=function(){for(var e="",t=!1,r=arguments.length;r>=-1&&!t;r--){var n=r>=0?arguments[r]:process.cwd();"string"==typeof n&&n&&(e=n+"/"+e,t="/"===n.charAt(0))}return(t?"/":"")+(e=s(i(e.split("/"),function(e){return!!e}),!t).join("/"))||"."},r.normalize=function(e){var t="/"===e.charAt(0),r="/"===e.slice(-1);return(e=s(i(e.split("/"),function(e){return!!e}),!t).join("/"))||t||(e="."),e&&r&&(e+="/"),(t?"/":"")+e},r.join=function(){var e=Array.prototype.slice.call(arguments,0);return r.normalize(i(e,function(e,t){return e&&"string"==typeof e}).join("/"))},r.dirname=function(e){var t=a.exec(e)[1]||"";return t?1===t.length?t:t.substring(0,t.length-1):"."},r.basename=function(e,t){var r=a.exec(e)[2]||"";return t&&r.substr(-1*t.length)===t&&(r=r.substr(0,r.length-t.length)),r},r.extname=function(e){return a.exec(e)[3]||""}}),require.define("/shred.js",function(e,t,r,n,o){var i=e("ax"),s=e("cookiejar").CookieJar,a=function(e){e=e||{},this.agent=e.agent,this.defaults=e.defaults||{},this.log=e.logger||new i({level:"info"}),this._sharedCookieJar=new s,this.logCurl=e.logCurl||!1};a.Request=e("./shred/request"),a.Response=e("./shred/response"),a.prototype={request:function(e){for(var t in e.logger=this.log,e.logCurl=e.logCurl||this.logCurl,e.cookieJar="cookieJar"in e?e.cookieJar:this._sharedCookieJar,e.agent=e.agent||this.agent,this.defaults)this.defaults.hasOwnProperty(t)&&!e[t]&&(e[t]=this.defaults[t]);return new a.Request(e)}},"get put post delete".split(" ").forEach(function(e){a.prototype[e]=function(t){return t.method=e,this.request(t)}}),t.exports=a}),require.define("/node_modules/ax/package.json",function(e,t,r,n,o){t.exports={main:"./lib/ax.js"}}),require.define("/node_modules/ax/lib/ax.js",function(e,t,r,n,o){e("util").inspect;var i=e("fs"),s=function(e){var t=this;switch((e=e||{}).level=e.level||"info",e.timestamp=e.timestamp||!0,e.prefix=e.prefix||"",t.options=e,t.options.module&&(t.options.prefix=t.options.module),t.options.file?t.stream=i.createWriteStream(t.options.file,{flags:"a"}):"node"===process.title?t.stream=process.stderr:"browser"===process.title&&(t.stream=function(){return console[t.options.level].apply(console,arguments)}),t.options.level){case"debug":["debug","info","warn"].forEach(function(e){t[e]=s.writer(e)});case"info":["info","warn"].forEach(function(e){t[e]=s.writer(e)});case"warn":t.warn=s.writer("warn")}};s.writer=function(e){return function(t){"node"===process.title?this.stream.write(this.format(e,t)+"\n"):"browser"===process.title&&this.stream(this.format(e,t)+"\n")}},s.prototype={info:function(){},debug:function(){},warn:function(){},error:s.writer("error"),format:function(e,t){if(!t)return"";return this.options.prefix+(this.options.timestamp?" "+(new Date).toISOString():"")+": "+t}},t.exports=s}),require.define("util",function(e,t,r,n,o){}),require.define("fs",function(e,t,r,n,o){}),require.define("/node_modules/cookiejar/package.json",function(e,t,r,n,o){t.exports={main:"cookiejar.js"}}),require.define("/node_modules/cookiejar/cookiejar.js",function(e,t,r,n,o){r.CookieAccessInfo=CookieAccessInfo=function e(t,r,n,o){return this instanceof e?(this.domain=t||void 0,this.path=r||"/",this.secure=!!n,this.script=!!o,this):new e(t,r,n,o)},r.Cookie=Cookie=function e(t){return t instanceof e?t:this instanceof e?(this.name=null,this.value=null,this.expiration_date=1/0,this.path="/",this.domain=null,this.secure=!1,this.noscript=!1,t&&this.parse(t),this):new e(t)},Cookie.prototype.toString=function(){var e=[this.name+"="+this.value];return this.expiration_date!==1/0&&e.push("expires="+new Date(this.expiration_date).toGMTString()),this.domain&&e.push("domain="+this.domain),this.path&&e.push("path="+this.path),this.secure&&e.push("secure"),this.noscript&&e.push("httponly"),e.join("; ")},Cookie.prototype.toValueString=function(){return this.name+"="+this.value};var i=/[:](?=\s*[a-zA-Z0-9_\-]+\s*[=])/g;Cookie.prototype.parse=function(e){if(this instanceof Cookie){var t=e.split(";"),r=t[0].match(/([^=]+)=((?:.|\n)*)/),n=r[1],o=r[2];this.name=n,this.value=o;for(var i=1;i<t.length;i++)switch(n=(r=t[i].match(/([^=]+)(?:=((?:.|\n)*))?/))[1].trim().toLowerCase(),o=r[2],n){case"httponly":this.noscript=!0;break;case"expires":this.expiration_date=o?Number(Date.parse(o)):1/0;break;case"path":this.path=o?o.trim():"";break;case"domain":this.domain=o?o.trim():"";break;case"secure":this.secure=!0}return this}return(new Cookie).parse(e)},Cookie.prototype.matches=function(e){return!(this.noscript&&e.script||this.secure&&!e.secure||!this.collidesWith(e))},Cookie.prototype.collidesWith=function(e){if(this.path&&!e.path||this.domain&&!e.domain)return!1;if(this.path&&0!==e.path.indexOf(this.path))return!1;if(this.domain===e.domain)return!0;if(this.domain&&"."===this.domain.charAt(0)){var t=e.domain.indexOf(this.domain.slice(1));if(-1===t||t!==e.domain.length-this.domain.length+1)return!1}else if(this.domain)return!1;return!0},r.CookieJar=CookieJar=function e(){if(this instanceof e){var t={};return this.setCookie=function(e){var r=(e=Cookie(e)).expiration_date<=Date.now();if(e.name in t){for(var n=t[e.name],o=0;o<n.length;o++){if(n[o].collidesWith(e))return r?(n.splice(o,1),0===n.length&&delete t[e.name],!1):n[o]=e}return!r&&(n.push(e),e)}return!r&&(t[e.name]=[e])},this.getCookie=function(e,r){for(var n=t[e],o=0;o<n.length;o++){var i=n[o];if(i.expiration_date<=Date.now())0===n.length&&delete t[i.name];else if(i.matches(r))return i}},this.getCookies=function(e){var r=[];for(var n in t){var o=this.getCookie(n,e);o&&r.push(o)}return r.toString=function(){return r.join(":")},r.toValueString=function(){return r.map(function(e){return e.toValueString()}).join(";")},r},this}return new e},CookieJar.prototype.setCookies=function(e){e=Array.isArray(e)?e:e.split(i);for(var t=[],r=0;r<e.length;r++){var n=Cookie(e[r]);this.setCookie(n)&&t.push(n)}return t}}),require.define("/shred/request.js",function(e,t,r,n,o){var i=e("http"),s=e("https"),a=e("./parseUri"),u=e("events").EventEmitter,c=e("sprintf").sprintf,h=e("./response"),f=e("./mixins/headers"),d=e("./content"),p=i.STATUS_CODES||{100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",300:"Multiple Choices",301:"Moved Permanently",302:"Moved Temporarily",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Time-out",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Request Entity Too Large",414:"Request-URI Too Large",415:"Unsupported Media Type",416:"Requested Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Time-out",505:"HTTP Version not supported",506:"Variant Also Negotiates",507:"Insufficient Storage",509:"Bandwidth Limit Exceeded",510:"Not Extended"},l=function(e){this.log=e.logger,this.cookieJar=e.cookieJar,this.encoding=e.encoding,this.logCurl=e.logCurl,g(this,e||{}),v(this)};Object.defineProperties(l.prototype,{url:{get:function(){return this.scheme?c("%s://%s:%s%s",this.scheme,this.host,this.port,(this.proxy?"/":this.path)+(this.query?"?"+this.query:"")):null},set:function(e){return e=a(e),this.scheme=e.protocol,this.host=e.host,this.port=e.port,this.path=e.path,this.query=e.query,this},enumerable:!0},headers:{get:function(){return this.getHeaders()},enumerable:!0},port:{get:function(){if(!this._port)switch(this.scheme){case"https":return this._port=443;case"http":default:return this._port=80}return this._port},set:function(e){return this._port=e,this},enumerable:!0},method:{get:function(){return this._method=this._method||"GET"},set:function(e){return this._method=e,this},enumerable:!0},query:{get:function(){return this._query},set:function(e){return e?("object"==typeof e&&(e=function(e){var t="";for(var r in e)t+=encodeURIComponent(r)+"="+encodeURIComponent(e[r])+"&";return t=t.slice(0,-1)}(e)),this._query=e):this._query="",this},enumerable:!0},parameters:{get:function(){return QueryString.parse(this._query||"")},enumerable:!0},body:{get:function(){return this._body},set:function(e){return this._body=new d({data:e,type:this.getHeader("Content-Type")}),this.setHeader("Content-Type",this.content.type),this.setHeader("Content-Length",this.content.length),this},enumerable:!0},timeout:{get:function(){return this._timeout},set:function(e){var t=0;return e?(t="number"==typeof e?e:(e.milliseconds||0)+1e3*((e.seconds||0)+60*((e.minutes||0)+60*(e.hours||0))),this._timeout=t,this):this},enumerable:!0}}),Object.defineProperty(l.prototype,"content",Object.getOwnPropertyDescriptor(l.prototype,"body")),l.prototype.inspect=function(){var e=this.format_headers();return[["<Shred Request> ",this.method.toUpperCase(),this.url].join(" "),"- Headers:",e].join("\n")},l.prototype.format_headers=function(){var e=[],t=this._headers;for(var r in t)if(t.hasOwnProperty(r)){var n=t[r];e.push("\t"+r+": "+n)}return e.join("\n")},l.prototype.on=function(e,t){var r=this.emitter;if(1===arguments.length&&"function"==typeof e)r.on("response",e);else if(1===arguments.length&&"object"==typeof e)for(var n in e)e.hasOwnProperty(n)&&r.on(n,e[n]);else r.on(e,t);return this},f.gettersAndSetters(l);var g=function(e,t){if(e.log.debug("Processing request options .."),e.emitter=new u,e.agent=t.agent,t.on)for(var r in t.on)t.on.hasOwnProperty(r)&&e.emitter.on(r,t.on[r]);if(t.url||t.host){if(t.url&&(t.proxy?(e.url=t.proxy,e.path=t.url):e.url=t.url),e.query=t.query||t.parameters||e.query,e.method=t.method,e.setHeader("user-agent",t.agent||"Shred"),e.setHeaders(t.headers),e.cookieJar){var n=e.cookieJar.getCookies(CookieAccessInfo(e.host,e.path));if(n.length){for(var o=e.getHeader("cookie")||"",i=0;i<n.length;++i)o.length&&";"!=o[o.length-1]&&(o+=";"),o+=n[i].name+"="+n[i].value+";";e.setHeader("cookie",o)}}(t.body||t.content)&&(e.content=t.body||t.content),e.timeout=t.timeout}else e.emitter.emit("request_error",new Error("No url or url options (host, port, etc.)"))},v=function(e){var t;e.log.debug("Creating request .."),e.log.debug(e);var r={host:e.host,port:e.port,method:e.method,path:e.path+(e.query?"?"+e.query:""),headers:e.getHeaders(),scheme:e.scheme,agent:e.agent};e.logCurl&&m(e);var n="http"==e.scheme?i:s;e._raw=n.request(r,function(r){e.log.debug("Received response .."),clearTimeout(t),r=new h(r,e,function(t){var r=function(r){var n=e.emitter,o=p[t.status]?p[t.status].toLowerCase():null;n.listeners(t.status).length>0||n.listeners(o).length>0?(n.emit(t.status,t),n.emit(o,t)):n.listeners(r).length>0?n.emit(r,t):t.isRedirect||n.emit("response",t)};t.isRedirect?(e.log.debug("Redirecting to "+t.getHeader("Location")),e.url=t.getHeader("Location"),r("redirect"),v(e)):t.isError?r("error"):r("success")})}),e._raw.on("error",function(t){e.emitter.emit("request_error",t)}),e._raw.on("socket",function(t){e.emitter.emit("socket",t)}),e._raw.on("socket",function(){e._raw.socket.on("timeout",function(){e._raw.abort()})}),e.content&&(e.log.debug("Streaming body: '"+e.content.data.slice(0,59)+"' ... "),e._raw.write(e.content.data)),e.timeout&&(t=setTimeout(function(){e.log.debug("Timeout fired, aborting request ..."),e._raw.abort(),e.emitter.emit("timeout",e)},e.timeout)),e.log.debug("Sending request ..."),e._raw.end()},m=function(e){var t=e.getHeaders(),r="";for(var n in t)r+='-H "'+n+": "+t[n]+'" ';var o="";e.content&&(o+="-d '"+e.content.body+"' ");var i=e.query?"?"+e.query:"";console.log("curl -X "+e.method.toUpperCase()+" "+e.scheme+"://"+e.host+":"+e.port+e.path+i+" "+r+o)};t.exports=l}),require.define("http",function(e,t,r,n,o){}),require.define("https",function(e,t,r,n,o){}),require.define("/shred/parseUri.js",function(e,t,r,n,o){function i(e){for(var t=i.options,r=t.parser[t.strictMode?"strict":"loose"].exec(e),n={},o=14;o--;)n[t.key[o]]=r[o]||"";return n[t.q.name]={},n[t.key[12]].replace(t.q.parser,function(e,r,o){r&&(n[t.q.name][r]=o)}),n}i.options={strictMode:!1,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},t.exports=i}),require.define("events",function(e,t,r,n,o){process.EventEmitter||(process.EventEmitter=function(){});var i=r.EventEmitter=process.EventEmitter,s="function"==typeof Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.toString.call(e)};i.prototype.setMaxListeners=function(e){this._events||(this._events={}),this._events.maxListeners=e},i.prototype.emit=function(e){if("error"===e&&(!this._events||!this._events.error||s(this._events.error)&&!this._events.error.length))throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");if(!this._events)return!1;var t=this._events[e];if(!t)return!1;if("function"==typeof t){switch(arguments.length){case 1:t.call(this);break;case 2:t.call(this,arguments[1]);break;case 3:t.call(this,arguments[1],arguments[2]);break;default:var r=Array.prototype.slice.call(arguments,1);t.apply(this,r)}return!0}if(s(t)){r=Array.prototype.slice.call(arguments,1);for(var n=t.slice(),o=0,i=n.length;o<i;o++)n[o].apply(this,r);return!0}return!1},i.prototype.addListener=function(e,t){if("function"!=typeof t)throw new Error("addListener only takes instances of Function");if(this._events||(this._events={}),this.emit("newListener",e,t),this._events[e])if(s(this._events[e])){var r;if(!this._events[e].warned)(r=void 0!==this._events.maxListeners?this._events.maxListeners:10)&&r>0&&this._events[e].length>r&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),console.trace());this._events[e].push(t)}else this._events[e]=[this._events[e],t];else this._events[e]=t;return this},i.prototype.on=i.prototype.addListener,i.prototype.once=function(e,t){var r=this;return r.on(e,function n(){r.removeListener(e,n),t.apply(this,arguments)}),this},i.prototype.removeListener=function(e,t){if("function"!=typeof t)throw new Error("removeListener only takes instances of Function");if(!this._events||!this._events[e])return this;var r=this._events[e];if(s(r)){var n=r.indexOf(t);if(n<0)return this;r.splice(n,1),0==r.length&&delete this._events[e]}else this._events[e]===t&&delete this._events[e];return this},i.prototype.removeAllListeners=function(e){return e&&this._events&&this._events[e]&&(this._events[e]=null),this},i.prototype.listeners=function(e){return this._events||(this._events={}),this._events[e]||(this._events[e]=[]),s(this._events[e])||(this._events[e]=[this._events[e]]),this._events[e]}}),require.define("/node_modules/sprintf/package.json",function(e,t,r,n,o){t.exports={main:"./lib/sprintf"}}),require.define("/node_modules/sprintf/lib/sprintf.js",function(e,t,r,n,o){var i=function(){function e(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}function t(e,t){for(var r=[];t>0;r[--t]=e);return r.join("")}var r=function(){return r.cache.hasOwnProperty(arguments[0])||(r.cache[arguments[0]]=r.parse(arguments[0])),r.format.call(null,r.cache[arguments[0]],arguments)};return r.format=function(r,n){var o,s,a,u,c,h,f,d=1,p=r.length,l="",g=[];for(s=0;s<p;s++)if("string"===(l=e(r[s])))g.push(r[s]);else if("array"===l){if((u=r[s])[2])for(o=n[d],a=0;a<u[2].length;a++){if(!o.hasOwnProperty(u[2][a]))throw i('[sprintf] property "%s" does not exist',u[2][a]);o=o[u[2][a]]}else o=u[1]?n[u[1]]:n[d++];if(/[^s]/.test(u[8])&&"number"!=e(o))throw i("[sprintf] expecting number but found %s",e(o));switch(u[8]){case"b":o=o.toString(2);break;case"c":o=String.fromCharCode(o);break;case"d":o=parseInt(o,10);break;case"e":o=u[7]?o.toExponential(u[7]):o.toExponential();break;case"f":o=u[7]?parseFloat(o).toFixed(u[7]):parseFloat(o);break;case"o":o=o.toString(8);break;case"s":o=(o=String(o))&&u[7]?o.substring(0,u[7]):o;break;case"u":o=Math.abs(o);break;case"x":o=o.toString(16);break;case"X":o=o.toString(16).toUpperCase()}o=/[def]/.test(u[8])&&u[3]&&o>=0?"+"+o:o,h=u[4]?"0"==u[4]?"0":u[4].charAt(1):" ",f=u[6]-String(o).length,c=u[6]?t(h,f):"",g.push(u[5]?o+c:c+o)}return g.join("")},r.cache={},r.parse=function(e){for(var t=e,r=[],n=[],o=0;t;){if(null!==(r=/^[^\x25]+/.exec(t)))n.push(r[0]);else if(null!==(r=/^\x25{2}/.exec(t)))n.push("%");else{if(null===(r=/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(t)))throw"[sprintf] huh?";if(r[2]){o|=1;var i=[],s=r[2],a=[];if(null===(a=/^([a-z_][a-z_\d]*)/i.exec(s)))throw"[sprintf] huh?";for(i.push(a[1]);""!==(s=s.substring(a[0].length));)if(null!==(a=/^\.([a-z_][a-z_\d]*)/i.exec(s)))i.push(a[1]);else{if(null===(a=/^\[(\d+)\]/.exec(s)))throw"[sprintf] huh?";i.push(a[1])}r[2]=i}else o|=2;if(3===o)throw"[sprintf] mixing positional and named placeholders is not (yet) supported";n.push(r)}t=t.substring(r[0].length)}return n},r}();r.sprintf=i,r.vsprintf=function(e,t){return t.unshift(e),i.apply(null,t)}}),require.define("/shred/response.js",function(e,t,r,n,o){var i=e("./content"),s=e("./mixins/headers"),a=e("cookiejar").Cookie,u=null;try{u=e("zlib")}catch(e){console.warn("no zlib library")}var c=null;try{c=e("iconv-lite")}catch(e){console.warn("no iconv library")}var h=function(e,t,r){var n=this;if(this._raw=e,this._setHeaders.call(this,e.headers),t.cookieJar&&this.getHeader("set-cookie")){for(var o,s=this.getHeader("set-cookie"),h=[],f=0;f<s.length;f++){var d=s[f];if(d){d.match(/domain\=/i)||(d+="; domain="+t.host),d.match(/path\=/i)||(d+="; path="+t.path);try{(o=new a(d))&&h.push(o)}catch(e){console.warn("Tried to set bad cookie: "+d)}}}t.cookieJar.setCookies(h)}this.request=t,this.client=t.client,this.log=this.request.log;var p=[],l=0;e.on("data",function(e){p.push(e),l+=e.length}),e.on("end",function(){var e;if("undefined"==typeof Buffer)e=p.join("");else{e=new Buffer(l);for(var t=0,o=0;t<p.length;t++)p[t].copy(e,o),o+=p[t].length}var s=function(e){n._body=new i({body:e,type:n.getHeader("Content-Type")}),r(n)};u&&"gzip"===n.getHeader("Content-Encoding")?u.gunzip(e,function(t,r){e=c&&n.request.encoding?c.fromEncoding(r,n.request.encoding):r.toString(),s(e)}):(n.request.encoding&&(e=c.fromEncoding(e,n.request.encoding)),s(e))})};h.prototype={inspect:function(){var e=this.format_headers();return[["<Shred Response> ",this.status].join(" "),"- Headers:",e].join("\n")},format_headers:function(){var e=[],t=this._headers;for(var r in t)if(t.hasOwnProperty(r)){var n=t[r];e.push("\t"+r+": "+n)}return e.join("\n")}},Object.defineProperties(h.prototype,{status:{get:function(){return this._raw.statusCode},enumerable:!0},body:{get:function(){return this._body}},content:{get:function(){return this.body},enumerable:!0},isRedirect:{get:function(){return this.status>299&&this.status<400&&this.getHeader("Location")},enumerable:!0},isError:{get:function(){return 0===this.status||this.status>399},enumerable:!0}}),s.getters(h),s.privateSetters(h);var f=h.prototype.getHeader;h.prototype.getHeader=function(e){return f.call(this,e)||"function"==typeof this._raw.getHeader&&this._raw.getHeader(e)},t.exports=h}),require.define("/shred/content.js",function(e,t,r,n,o){var i=function(e){this.body=e.body,this.data=e.data,this.type=e.type};i.prototype={},Object.defineProperties(i.prototype,{type:{get:function(){if(this._type)return this._type;if(this._data)switch(typeof this._data){case"string":return"text/plain";case"object":return"application/json"}return"text/plain"},set:function(e){return this._type=e,this},enumerable:!0},data:{get:function(){return this._body?this.processor.parser(this._body):this._data},set:function(e){return this._body&&e&&u.setDataWithBody(this),this._data=e,this},enumerable:!0},body:{get:function(){return this._data?this.processor.stringify(this._data):this.processor.stringify(this._body)},set:function(e){return this._data&&e&&u.setBodyWithData(this),this._body=e,this},enumerable:!0},processor:{get:function(){var e=i.processors[this.type];if(e)return e;for(var t=this.type.split(";")[0].split(/\+|\//),r=0,n=t.length;r<n;r++)e=i.processors[t[r]];return e||{parser:s,stringify:a}},enumerable:!0},length:{get:function(){return"undefined"!=typeof Buffer?Buffer.byteLength(this.body):this.body.length}}}),i.processors={},i.registerProcessor=function(e,t){e.forEach?e.forEach(function(e){i.processors[e]=t}):i.processors[e]=t};var s=function(e){return e},a=function(e){return e.toString()};i.registerProcessor(["text/html","text/plain","text"],{parser:s,stringify:a}),i.registerProcessor(["application/json; charset=utf-8","application/json","json"],{parser:function(e){return JSON.parse(e)},stringify:function(e){return JSON.stringify(e)}});var u={setDataWithBody:function(e){throw new Error("Attempt to set data attribute of a content object when the body attributes was already set.")},setBodyWithData:function(e){throw new Error("Attempt to set body attribute of a content object when the data attributes was already set.")}};t.exports=i}),require.define("/shred/mixins/headers.js",function(e,t,r,n,o){var i=function(e){return e.toLowerCase().replace(/(^|-)(\w)/g,function(e){return e.toUpperCase()})},s=function(e){return e._headers||(e._headers={})},a=function(e,t){return s(e)[i(t)]},u=function(e,t){var r=(t&&t.length>0?t:Object.keys(s(e))).reduce(function(t,r){return t[r]=a(e,r),t},{});return Object.freeze(r),r},c=function(e,t,r){return s(e)[i(t)]=r,e},h=function(e,t){for(var r in t)c(e,r,t[r]);return this};t.exports={getters:function(e){e.prototype.getHeader=function(e){return a(this,e)},e.prototype.getHeaders=function(){return u(this,arguments)}},privateSetters:function(e){e.prototype._setHeader=function(e,t){return c(this,e,t)},e.prototype._setHeaders=function(e){return h(this,e)}},setters:function(e){e.prototype.setHeader=function(e,t){return c(this,e,t)},e.prototype.setHeaders=function(e){return h(this,e)}},gettersAndSetters:function(e){e.prototype.getHeader=function(e){return a(this,e)},e.prototype.getHeaders=function(){return u(this,arguments)},e.prototype.setHeader=function(e,t){return c(this,e,t)},e.prototype.setHeaders=function(e){return h(this,e)}}}}),require.define("/node_modules/iconv-lite/package.json",function(e,t,r,n,o){t.exports={}}),require.define("/node_modules/iconv-lite/index.js",function(e,t,r,n,o){var i=t.exports={toEncoding:function(e,t){return i.getCodec(t).toEncoding(e)},fromEncoding:function(e,t){return i.getCodec(t).fromEncoding(e)},defaultCharUnicode:"�",defaultCharSingleByte:"?",getCodec:function(e){for(var t=e||"utf8",r=void 0;;){"String"===f(t)&&(t=t.replace(/[- ]/g,"").toLowerCase());var n=i.encodings[t],o=f(n);if("String"===o)r={originalEncoding:t},t=n;else{if("Object"!==o||null==n.type){if("Function"===o)return n(r);throw new Error("Encoding not recognized: '"+e+"' (searched as: '"+t+"')")}r=n,t=n.type}}},encodings:{internal:function(e){return{toEncoding:function(t){return new Buffer(h(t),e.originalEncoding)},fromEncoding:function(t){return c(t).toString(e.originalEncoding)}}},utf8:"internal",ucs2:"internal",binary:"internal",ascii:"internal",base64:"internal",singlebyte:function(e){if(!e.chars||128!==e.chars.length&&256!==e.chars.length)throw new Error("Encoding '"+e.type+"' has incorrect 'chars' (must be of len 128 or 256)");if(128===e.chars.length&&(e.chars=u+e.chars),e.charsBuf||(e.charsBuf=new Buffer(e.chars,"ucs2")),!e.revCharsBuf){e.revCharsBuf=new Buffer(65536);for(var t=i.defaultCharSingleByte.charCodeAt(0),r=0;r<e.revCharsBuf.length;r++)e.revCharsBuf[r]=t;for(r=0;r<e.chars.length;r++)e.revCharsBuf[e.chars.charCodeAt(r)]=r}return{toEncoding:function(t){t=h(t);for(var r=new Buffer(t.length),n=e.revCharsBuf,o=0;o<t.length;o++)r[o]=n[t.charCodeAt(o)];return r},fromEncoding:function(t){t=c(t);for(var r=e.charsBuf,n=new Buffer(2*t.length),o=0,i=0,s=0,a=t.length;s<a;s++)o=2*t[s],n[i=2*s]=r[o],n[i+1]=r[o+1];return n.toString("ucs2")}}},table:function(e){var t,r=e.table,n=e.revCharsTable;if(!r)throw new Error("Encoding '"+e.type+"' has incorect 'table' option");if(!n)for(t in n=e.revCharsTable={},r)n[r[t]]=parseInt(t);return{toEncoding:function(e){for(var t=(e=h(e)).length,r=t,o=0;o<t;o++)e.charCodeAt(o)>>7&&r++;for(var s,a,u=new Buffer(r),c=n[i.defaultCharUnicode.charCodeAt(0)],f=(o=0,0);o<t;o++)(a=e.charCodeAt(o))>>7?(s=n[a]||c,u[f++]=s>>8,u[f++]=255&s):u[f++]=a;return u},fromEncoding:function(e){for(var t=(e=c(e)).length,n=0,o=0;o<t;o++)n++,128&e[o]&&o++;for(var s,a,u=new Buffer(2*n),h=i.defaultCharUnicode.charCodeAt(0),f=(o=0,0);o<t;o++,f+=2)128&(a=e[o])?(a=(a<<8)+e[++o],s=r[a]||h):s=a,u[f]=255&s,u[f+1]=s>>8;return u.toString("ucs2")}}}}};i.encode=i.toEncoding,i.decode=i.fromEncoding;var s=n+"/encodings/",a=e("fs");a.readdirSync(s).forEach(function(t){if(!a.statSync(s+t).isDirectory()){var r=e(s+t);for(var n in r)i.encodings[n]=r[n]}});var u="\0\b\t\n\v\f\r !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",c=function(e){return(e=e||new Buffer(0))instanceof Buffer?e:new Buffer(e.toString(),"utf8")},h=function(e){return(e=e||"")instanceof String?e:e.toString(e instanceof Buffer?"utf8":void 0)},f=function(e){return Object.prototype.toString.call(e).slice(8,-1)}}),require.define("/node_modules/http-browserify/package.json",function(e,t,r,n,o){t.exports={main:"index.js",browserify:"browser.js"}}),require.define("/node_modules/http-browserify/browser.js",function(e,t,r,n,o){var i=t.exports,s=(e("events").EventEmitter,e("./lib/request"));i.request=function(e,t){e||(e={}),e.host||(e.host=window.location.host.split(":")[0]),e.port||(e.port=window.location.port);var r=new s(new a,e);return t&&r.on("response",t),r},i.get=function(e,t){e.method="GET";var r=i.request(e,t);return r.end(),r};var a=function(){if("undefined"==typeof window)throw new Error("no window object present");if(window.XMLHttpRequest)return window.XMLHttpRequest;if(window.ActiveXObject){for(var e=["Msxml2.XMLHTTP.6.0","Msxml2.XMLHTTP.3.0","Microsoft.XMLHTTP"],t=0;t<e.length;t++)try{var r=new window.ActiveXObject(e[t]);return function(){if(r){var n=r;return r=null,n}return new window.ActiveXObject(e[t])}}catch(e){}throw new Error("ajax not supported in this browser")}throw new Error("ajax not supported in this browser")}();i.STATUS_CODES={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",300:"Multiple Choices",301:"Moved Permanently",302:"Moved Temporarily",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Time-out",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Request Entity Too Large",414:"Request-URI Too Large",415:"Unsupported Media Type",416:"Requested Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Time-out",505:"HTTP Version not supported",506:"Variant Also Negotiates",507:"Insufficient Storage",509:"Bandwidth Limit Exceeded",510:"Not Extended"}}),require.define("/node_modules/http-browserify/lib/request.js",function(e,t,r,n,o){var i=e("events").EventEmitter,s=e("./response"),a=e("./isSafeHeader"),u=t.exports=function(e,t){var r=this;r.xhr=e,r.body="";var n=t.host+":"+t.port+(t.path||"/");e.open(t.method||"GET",(t.scheme||"http")+"://"+n,!0),t.headers&&Object.keys(t.headers).forEach(function(r){if(a(r)){var n=t.headers[r];Array.isArray(n)?n.forEach(function(t){e.setRequestHeader(r,t)}):e.setRequestHeader(r,n)}});var o=new s(e);o.on("ready",function(){r.emit("response",o)}),e.onreadystatechange=function(){o.handle(e)}};u.prototype=new i,u.prototype.setHeader=function(e,t){if(Array.isArray&&Array.isArray(t)||t instanceof Array)for(var r=0;r<t.length;r++)this.xhr.setRequestHeader(e,t[r]);else this.xhr.setRequestHeader(e,t)},u.prototype.write=function(e){this.body+=e},u.prototype.end=function(e){void 0!==e&&this.write(e),this.xhr.send(this.body)}}),require.define("/node_modules/http-browserify/lib/response.js",function(e,t,r,n,o){var i=e("events").EventEmitter,s=e("./isSafeHeader"),a=t.exports=function(e){this.xhr=e,this.offset=0};a.prototype=new i;var u={streaming:!0,status2:!0};function c(e){for(var t=e.getAllResponseHeaders().split(/\r?\n/),r={},n=0;n<t.length;n++){var o=t[n];if(""!==o){var i=o.match(/^([^:]+):\s*(.*)/);if(i){var s=i[1].toLowerCase(),a=i[2];void 0!==r[s]?Array.isArray&&Array.isArray(r[s])||r[s]instanceof Array?r[s].push(a):r[s]=[r[s],a]:r[s]=a}else r[o]=!0}}return r}a.prototype.getHeader=function(e){var t=this.headers?this.headers[e.toLowerCase()]:null;return t||(s(e)?this.xhr.getResponseHeader(e):null)},a.prototype.handle=function(){var e=this.xhr;if(2===e.readyState&&u.status2){try{this.statusCode=e.status,this.headers=c(e)}catch(e){u.status2=!1}u.status2&&this.emit("ready")}else if(u.streaming&&3===e.readyState){try{this.statusCode||(this.statusCode=e.status,this.headers=c(e),this.emit("ready"))}catch(e){}try{this.write()}catch(e){u.streaming=!1}}else 4===e.readyState&&(this.statusCode||(this.statusCode=e.status,this.emit("ready")),this.write(),e.error?this.emit("error",e.responseText):this.emit("end"))},a.prototype.write=function(){var e=this.xhr;e.responseText.length>this.offset&&(this.emit("data",e.responseText.slice(this.offset)),this.offset=e.responseText.length)}}),require.define("/node_modules/http-browserify/lib/isSafeHeader.js",function(e,t,r,n,o){var i=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","content-transfer-encoding","date","expect","host","keep-alive","origin","referer","set-cookie","te","trailer","transfer-encoding","upgrade","user-agent","via"];t.exports=function(e){return!!e&&-1===i.indexOf(e.toLowerCase())}}),require.alias("http-browserify","/node_modules/http"),require.alias("http-browserify","/node_modules/https");